{% load static %}
<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>EcoCafe — Tək Səhifə</title>
    <meta name="description"
          content="Modern eco-friendly cafe single-page website: hero, info, menu grid, categories, search."/>
    <link rel="preconnect" href="https://images.unsplash.com" crossorigin>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <link rel="stylesheet" href="{% static 'style/reset.css' %}">
    <link rel="stylesheet" href="{% static 'style/main.css' %}">
    <link rel="stylesheet" href="{% static 'style/swiper-bundle.min.css' %}">
</head>

<body>
<!-- Header -->
<header class="site-header">
    <div class="wrap">
        <div class="row" method="post">
            {% csrf_token %}
            <div id="editable_h1" contenteditable="false" class="brand">
                {{ navbar.restoran_name }}
            </div>
            <div class="space"></div>
            <nav class="nav" aria-label="Primary">
                {% if user.is_staff or user.is_superuser %}
                    <div class="social-actions">
                        <i class="fa-solid fa-pen-to-square" id="social_media_add_button"></i>
                        <form id="socialPopup" class="popup deactive"
                              method="post"
                              action="{% url 'add_social_media' navbar.id %}">
                            {% csrf_token %}
                            {{ form.social_media_icon }}
                            {{ form.social_media_link }}
                            <button type="submit" class="socialPopupButton">Əlavə et</button>
                            {{ form.errors }}
                        </form>
                    </div>
                {% endif %}
                {% for social_media in social_media_navbar %}
                    <a class="chip" href="{{ social_media.social_media_link }}" target="_blank">
                        <i class="fa-brands fa-{{ social_media.social_media_icon }} social_media_icons"></i>
                        {{ social_media.social_media_icon }}
                        {% if user.is_superuser or user.is_staff %}
                            <form method="post"
                                  action="{% url 'delete_social_media' social_media.id %}"
                                  style="display:inline;">
                                {% csrf_token %}
                                <button type="submit" class="fa-solid fa-trash-can" title="Sil"></button>
                            </form>
                        {% endif %}
                    </a>
                {% endfor %}
                <span class="lang" role="button" aria-label="Dil">AZ / EN</span>
            </nav>
        </div>
    </div>
</header>

<section class="hero-slider" id="heroSlider">
    <div class="hero-slides">
        {% for s in slides %}
            <div class="hero-slide {% if forloop.first %}is-active{% endif %}"
                 style="{% if s.image %}background-image:url('{{ s.image.url }}');{% endif %}"
                 data-index="{{ forloop.counter0 }}">
                <div class="hero-overlay"></div>

                <div class="wrap">
                    <div class="hero-grid">
                        <div method="post">
                            {% csrf_token %}

                            <h1 class="title" id="main_section_h1">
                                {{ s.title_big|default:navbar.restoran_main_text }}
                                {% if s.subtitle_big %}<br>{{ s.subtitle_big }}{% endif %}
                            </h1>

                            <p class="subtitle" id="main_section_sub">
                                {{ s.title_small|default:navbar.restoran_sub_text }}
                            </p>

                            {% if s.button_url %}
                                <a class="btn primary"
                                   href="{{ s.button_url }}">{{ s.button_text|default:"Learn More" }}</a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        {% empty %}
            <!-- Fallback -->
            <div class="hero-slide is-active"
                 style="background-image:url('https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?q=80&w=1600&auto=format&fit=crop');">
                <div class="hero-overlay"></div>
                <div class="wrap">
                    <div class="hero-grid">
                        <div>
                            <h1 class="title" id="main_section_h1">{{ navbar.restoran_main_text }}</h1>
                            <p class="subtitle" id="main_section_sub">{{ navbar.restoran_sub_text }}</p>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>

    {% if slides|length > 1 %}
        <div class="hero-indicators" id="heroIndicators" aria-label="Slider indicators">
            {% for s in slides %}
                <button type="button"
                        class="hero-dot {% if forloop.first %}is-active{% endif %}"
                        aria-label="Slide {{ forloop.counter }}"
                        data-to="{{ forloop.counter0 }}"></button>
            {% endfor %}
            {% if user.is_staff or user.is_sueradmin %}
                <i class="fa-solid fa-circle-plus"></i>
            {% endif %}
        </div>

    {% endif %}
</section>

<!-- Quick Info -->
<section class="info">
    <div class="wrap">
        <div class="info-grid" role="list">
            {% for info_section in info_sections %}
                <div class="info-item" role="listitem">
                    <div class="info-title">{{ info_section.main_text }}</div>
                    <div class="info-text">{{ info_section.sub_text }}</div>
                </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Menu Preview -->
<section id="menu" class="section">
    <div class="wrap">
        <h2>Menyu seçmələri</h2>
        <p class="lead">Sənaye foto bankından deyil, isti həyat tərzi vizualları.</p>
        <div class="menu-grid" id="menuGrid">
            <article class="card" data-tags="drink coffee cold">
                <div class="card-media"><img
                        src="https://images.unsplash.com/photo-1541167760496-1628856ab772?q=80&w=1600&auto=format&fit=crop"
                        alt="Iced Espresso Tonic"></div>
                <div class="card-body">
                    <strong>Iced Espresso Tonic</strong>
                    <div class="badge">Yeni</div>
                </div>
            </article>
            <article class="card" data-tags="drink latte sweet">
                <div class="card-media"><img
                        src="https://images.unsplash.com/photo-1517705008128-361805f42e86?q=80&w=1600&auto=format&fit=crop"
                        alt="Pistachio Latte"></div>
                <div class="card-body">
                    <strong>Pistachio Latte</strong>
                </div>
            </article>
            <article class="card" data-tags="food breakfast healthy">
                <div class="card-media"><img
                        src="https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?q=80&w=1600&auto=format&fit=crop"
                        alt="Healthy Breakfast"></div>
                <div class="card-body">
                    <strong>Healthy Breakfast</strong>
                    <div class="badge">Vegan</div>
                </div>
            </article>
            <article class="card" data-tags="drink milkshake cold sweet">
                <div class="card-media"><img
                        src="https://images.unsplash.com/photo-1488477181946-6428a0291777?q=80&w=1600&auto=format&fit=crop"
                        alt="Mixed Milkshake"></div>
                <div class="card-body">
                    <strong>Mixed Milkshake</strong>
                </div>
            </article>
        </div>
    </div>
</section>

<!-- Categories -->
<section id="categories" class="section">
    <div class="wrap">
        <h2>Kateqoriyalar</h2>
        <div class="category-search">
            <input id="search" class="search" type="search" placeholder="Axtarış (məs: latte, vegan, breakfast)">
            <button id="clear" class="btn" type="button">Təmizlə</button>
        </div>
        <div class="categories" id="catList">
            <a class="cat" href="#menu" data-tags="dessert sweet pastry">
                <img src="https://images.unsplash.com/photo-1511911063855-0e809594f5bb?q=80&w=1600&auto=format&fit=crop"
                     alt="Desertlər">
                <div class="overlay"><h3>Desertlər</h3></div>
            </a>
            <a class="cat" href="#menu" data-tags="sandwich lunch">
                <img src="https://images.unsplash.com/photo-1498579150354-977475b7ea0b?q=80&w=1600&auto=format&fit=crop"
                     alt="Sendviçlər">
                <div class="overlay"><h3>Sendviçlər</h3></div>
            </a>
            <a class="cat" href="#menu" data-tags="bakery dry">
                <img src="https://images.unsplash.com/photo-1519336555923-59661f41bb0f?q=80&w=1600&auto=format&fit=crop"
                     alt="Quru mallar">
                <div class="overlay"><h3>Quru mallar</h3></div>
            </a>
            <a class="cat" href="#menu" data-tags="pastry croissant">
                <img src="https://images.unsplash.com/photo-1512058564366-18510be2db19?q=80&w=1600&auto=format&fit=crop"
                     alt="Mayalı məhsullar">
                <div class="overlay"><h3>Mayalı məhsullar</h3></div>
            </a>
        </div>
    </div>
</section>

<footer id="contact" class="wrap">
    © <span id="year"></span> EcoCafe. Hazırlayan: single-page demo.
</footer>

<script src="{% static 'scripts/script.js' %}"></script>
{% if user.is_staff or user.superuser %}
    <script src="{% static 'scripts/editible.js' %}"></script>
{% endif %}

</body>
</html>
